<!-- src/app/technician/verify/technician-verify-doc.component.html -->
<div class="verify-page">
  <div class="verify-card">
    <h2 class="title">Technician Verification</h2>
    <p class="subtitle">Please upload required documents and fill details to get verified.</p>

    <form [formGroup]="verifyForm" (ngSubmit)="submit()" class="verify-form">

      <!-- ================= ADDRESS SECTION ================= -->
       <h3 class="section-heading">Address</h3>
      <div formGroupName="address">

        <div class="row">
          <label class="label">Street</label>
          <input class="input" formControlName="street" placeholder="No.01, Main Street" />
        </div>

        <div class="row">
          <label class="label">City</label>
          <input class="input" formControlName="city" placeholder="Jaffna" />
        </div>

        <div class="row">
          <label class="label">State / Province</label>
          <input class="input" formControlName="state" placeholder="Northern Province" />
        </div>

        <div class="row">
          <label class="label">Postal Code</label>
          <input class="input" formControlName="postalCode" placeholder="40000" />
        </div>

        <div class="row">
          <label class="label">Country</label>
          <input class="input" formControlName="country" placeholder="Sri Lanka" />
        </div>

      </div>

      <!-- ================= EXPERIENCE ================= -->
      <div class="row">
        <label class="label">Experience (years)</label>
        <input type="number" class="input" formControlName="experienceYears" min="0" placeholder="e.g. 3" />
      </div>

      <!-- ================= CATEGORIES ================= -->
      <div class="categories">
        <label class="label">Service Categories (choose one or more)</label>

        <div class="cat-grid">
          <label *ngFor="let c of categoriesList" class="cat-item" 
                 [class.selected]="categoriesSelected.includes(c)">
            <input 
              type="checkbox" 
              [checked]="categoriesSelected.includes(c)" 
              (change)="toggleCategory(c)" />
            <span>{{ c }}</span>
          </label>
        </div>
      </div>

      <!-- ================= NIC PDF ================= -->
      <div class="file-row">
        <label class="choose-pdf" for="nicInput">
          <span>Choose NIC PDF</span>
        </label>
        <input id="nicInput" type="file" accept="application/pdf" (change)="onFileSelect($event, 'nic')" />
        <div class="file-name" *ngIf="nicFileName">{{ nicFileName }}</div>
        <div class="file-note" *ngIf="!nicFileName">Both sides of NIC in one PDF • Max 5MB</div>
      </div>

      <!-- ================= CERTIFICATE PDF ================= -->
      <div class="file-row">
        <label class="choose-pdf" for="certInput">
          <span>Choose Certificate PDF</span>
        </label>
        <input id="certInput" type="file" accept="application/pdf" (change)="onFileSelect($event, 'certificate')" />
        <div class="file-name" *ngIf="certFileName">{{ certFileName }}</div>
        <div class="file-note" *ngIf="!certFileName">All certificates in ONE PDF • Max 5MB</div>
      </div>

      <!-- ================= STATUS MESSAGE ================= -->
      <div class="status" *ngIf="statusMsg">{{ statusMsg }}</div>

      <!-- ================= SUBMIT BUTTON ================= -->
      <div class="submit-row">
        <button type="submit" class="submit-btn" [disabled]="submitting">
          {{ submitting ? 'Submitting...' : 'Submit Documents' }}
        </button>
      </div>

    </form>
  </div>
</div>
